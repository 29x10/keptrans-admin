<script type="text/x-handlebars" data-template-name="clients/new">
    {{contract-info-add-modal addContractInfo="confirmAddContractInfo"}}
    <h2 class="ui header">
        <i class="settings icon"></i>

        <div class="content">
            客户管理
            <div class="sub header">添加客户信息</div>
        </div>
    </h2>
    <div class="ui segment">
        <div class="ui form">
            {{form-field label="称呼" placeholder="称呼" value=name errorMessage="称呼不能为空" icon="user"}}
            {{form-field label="手机号" placeholder="手机号" value=mobile errorMessage="手机号不能为空" icon="mobile"}}
        </div>

        {{#if addresses}}
        <table class="ui table">
            <thead>
            <tr>
                <th>ID</th>
                <th>地址</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            {{#each addresses}}
                <tr>
                    <td>{{id}}</td>
                    <td>
                        <div class="ui contract-info input fluid">{{input type="text" value=address}}</div>
                    </td>
                    <td class="negative mouse" {{action 'removeAddress' this}}>删除</td>
                </tr>
            {{/each}}
            </tbody>
            <tfoot></tfoot>
        </table>
        {{/if}}
        <div class="ui button" {{action 'addInfo'}}>添加信息</div>
        <div class="ui button" {{action 'addAddress'}}>添加送货地址</div>
        <div class="ui button" {{action 'pubClient'}}>提交</div>
    </div>
    <div class="ui grid two column stackable">
        {{#each contractInfos}}
            <div class="column">
                <div class="ui small feed segment">
                    <h4 class="ui header floated left">合同信息{{id}}</h4>
                    <div class="ui button basic floated right tiny circular icon" {{action 'removeContractInfo' this}}><i class="remove icon"></i></div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                公司名称
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=company}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                地址
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=address}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                开户行
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=bank}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                帐号
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=bankAccount}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                税号
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=tax}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                法人
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=legalPerson}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                电话
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=phone}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="event">
                        <div class="content">
                            <div class="summary">
                                传真
                            </div>
                            <div class="extra text">
                                <div class="ui contract-info input fluid">{{input type="text" value=fax}}</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        {{/each}}
    </div>

</script>